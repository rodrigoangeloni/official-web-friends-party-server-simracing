// Configuración centralizada del HEAD para todas las páginas
// Friends Party Server SimRacing

window.HeadConfig = {
    // Meta tags básicos
    baseMeta: {
        description: "Friends Party Server SimRacing: Servidores de Assetto Corsa en Sudamérica.",
        keywords: "Assetto Corsa, SimRacing, Friends Party Server, servidores, carreras, Sudamérica, Latino, Argentina, Paraguay.",
        charset: "UTF-8",
        viewport: "width=device-width, initial-scale=1.0"
    },

    // Configuración por página
    pages: {
        "/": {
            title: "Friends Party Server SimRacing - Inicio",
            description: "Friends Party Server SimRacing: Los mejores servidores de Assetto Corsa en Sudamérica. Únete a nuestra comunidad latino.",
            ogTitle: "Friends Party Server SimRacing",
            ogDescription: "Los mejores servidores de Assetto Corsa en Sudamérica para toda la comunidad latina.",
            twitterTitle: "Friends Party Server SimRacing",
            twitterDescription: "Los mejores servidores de Assetto Corsa en Sudamérica para toda la comunidad latina."
        },
        "/pages/core/reglamento.html": {
            title: "Normas Básicas - Friends Party Server",
            description: "Conoce las normas básicas y reglamento de nuestros servidores de SimRacing.",
            ogTitle: "Normas Básicas - Friends Party Server",
            ogDescription: "Conoce las normas básicas y reglamento de nuestros servidores de SimRacing.",
            twitterTitle: "Normas Básicas - Friends Party Server",
            twitterDescription: "Conoce las normas básicas y reglamento de nuestros servidores de SimRacing."
        },
        "/pages/core/servers.html": {
            title: "Servidores - Friends Party Server",
            description: "Descubre todos nuestros servidores activos de Assetto Corsa en Sudamérica.",
            ogTitle: "Servidores - Friends Party Server",
            ogDescription: "Descubre todos nuestros servidores activos de Assetto Corsa en Sudamérica.",
            twitterTitle: "Servidores - Friends Party Server",
            twitterDescription: "Descubre todos nuestros servidores activos de Assetto Corsa en Sudamérica."
        },
        "/pages/core/eventos.html": {
            title: "Eventos - Friends Party Server",
            description: "Participa en nuestros eventos y campeonatos de SimRacing.",
            ogTitle: "Eventos - Friends Party Server",
            ogDescription: "Participa en nuestros eventos y campeonatos de SimRacing.",
            twitterTitle: "Eventos - Friends Party Server",
            twitterDescription: "Participa en nuestros eventos y campeonatos de SimRacing."
        },
        "/pages/core/calculadora.html": {
            title: "Calculadora SimRacing - Friends Party Server",
            description: "Calculadora de estrategia para carreras de SimRacing en Assetto Corsa.",
            ogTitle: "Calculadora SimRacing - Friends Party Server",
            ogDescription: "Calculadora de estrategia para carreras de SimRacing en Assetto Corsa.",
            twitterTitle: "Calculadora SimRacing - Friends Party Server",
            twitterDescription: "Calculadora de estrategia para carreras de SimRacing en Assetto Corsa."
        },
        "/pages/info/redes.html": {
            title: "Redes Sociales - Friends Party Server",
            description: "Síguenos en nuestras redes sociales y mantente al día con la comunidad.",
            ogTitle: "Redes Sociales - Friends Party Server",
            ogDescription: "Síguenos en nuestras redes sociales y mantente al día con la comunidad.",
            twitterTitle: "Redes Sociales - Friends Party Server",
            twitterDescription: "Síguenos en nuestras redes sociales y mantente al día con la comunidad."
        },
        "/pages/info/about.html": {
            title: "Acerca de - Friends Party Server",
            description: "Conoce más sobre Friends Party Server y nuestra comunidad de SimRacing.",
            ogTitle: "Acerca de - Friends Party Server",
            ogDescription: "Conoce más sobre Friends Party Server y nuestra comunidad de SimRacing.",
            twitterTitle: "Acerca de - Friends Party Server",
            twitterDescription: "Conoce más sobre Friends Party Server y nuestra comunidad de SimRacing."
        },
        "/pages/info/contact.html": {
            title: "Contacto - Friends Party Server",
            description: "Ponte en contacto con nosotros para cualquier consulta sobre nuestros servidores.",
            ogTitle: "Contacto - Friends Party Server",
            ogDescription: "Ponte en contacto con nosotros para cualquier consulta sobre nuestros servidores.",
            twitterTitle: "Contacto - Friends Party Server",
            twitterDescription: "Ponte en contacto con nosotros para cualquier consulta sobre nuestros servidores."
        },
        "/pages/landing/argentina.html": {
            title: "Argentina - Friends Party Server",
            description: "Información específica para pilotos argentinos en Friends Party Server.",
            ogTitle: "Argentina - Friends Party Server",
            ogDescription: "Información específica para pilotos argentinos en Friends Party Server.",
            twitterTitle: "Argentina - Friends Party Server",
            twitterDescription: "Información específica para pilotos argentinos en Friends Party Server."
        },
        "/pages/landing/paraguay.html": {
            title: "Paraguay - Friends Party Server",
            description: "Información específica para pilotos paraguayos en Friends Party Server.",
            ogTitle: "Paraguay - Friends Party Server",
            ogDescription: "Información específica para pilotos paraguayos en Friends Party Server.",
            twitterTitle: "Paraguay - Friends Party Server",
            twitterDescription: "Información específica para pilotos paraguayos en Friends Party Server."
        },
        "/pages/landing/latinoamerica.html": {
            title: "Latinoamérica - Friends Party Server",
            description: "Información para toda la comunidad latinoamericana de SimRacing.",
            ogTitle: "Latinoamérica - Friends Party Server",
            ogDescription: "Información para toda la comunidad latinoamericana de SimRacing.",
            twitterTitle: "Latinoamérica - Friends Party Server",
            twitterDescription: "Información para toda la comunidad latinoamericana de SimRacing."
        },
        "/pages/landing/campeonatos.html": {
            title: "Campeonatos - Friends Party Server",
            description: "Participa en nuestros campeonatos oficiales de SimRacing.",
            ogTitle: "Campeonatos - Friends Party Server",
            ogDescription: "Participa en nuestros campeonatos oficiales de SimRacing.",
            twitterTitle: "Campeonatos - Friends Party Server",
            twitterDescription: "Participa en nuestros campeonatos oficiales de SimRacing."
        },
        "/pages/landing/guias.html": {
            title: "Guías - Friends Party Server",
            description: "Guías y tutoriales para mejorar tu experiencia en SimRacing.",
            ogTitle: "Guías - Friends Party Server",
            ogDescription: "Guías y tutoriales para mejorar tu experiencia en SimRacing.",
            twitterTitle: "Guías - Friends Party Server",
            twitterDescription: "Guías y tutoriales para mejorar tu experiencia en SimRacing."
        },
        "/404.html": {
            title: "Página no encontrada - Friends Party Server",
            description: "La página que buscas no existe. Regresa al inicio de Friends Party Server.",
            ogTitle: "Página no encontrada - Friends Party Server",
            ogDescription: "La página que buscas no existe. Regresa al inicio de Friends Party Server.",
            twitterTitle: "Página no encontrada - Friends Party Server",
            twitterDescription: "La página que buscas no existe. Regresa al inicio de Friends Party Server."
        }
    },

    // Función para generar el HEAD dinámicamente
    generateHead: function(currentPath) {
        const pageConfig = this.pages[currentPath] || this.pages["/"];
        const baseUrl = "https://friendspartyserver.duckdns.org";
        const fullUrl = baseUrl + currentPath;

        return `
            <meta name="description" content="${pageConfig.description}">
            <meta name="keywords" content="${this.baseMeta.keywords}">
            <meta charset="${this.baseMeta.charset}">
            <meta name="viewport" content="${this.baseMeta.viewport}">

            <!-- Open Graph / Facebook -->
            <meta property="og:type" content="website">
            <meta property="og:url" content="${fullUrl}">
            <meta property="og:title" content="${pageConfig.ogTitle}">
            <meta property="og:description" content="${pageConfig.ogDescription}">
            <meta property="og:image" content="${baseUrl}/assets/images/logo-principal.png">

            <!-- Twitter -->
            <meta property="twitter:card" content="summary_large_image">
            <meta property="twitter:url" content="${fullUrl}">
            <meta property="twitter:title" content="${pageConfig.twitterTitle}">
            <meta property="twitter:description" content="${pageConfig.twitterDescription}">
            <meta property="twitter:image" content="${baseUrl}/assets/images/logo-principal.png">

            <title>${pageConfig.title}</title>
            <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
            <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
            <link rel="stylesheet" href="/assets/css/main.css">

            <!-- Precarga de recursos -->
            <link rel="preload" href="/assets/images/logo-principal.png" as="image">
            <link rel="preload" href="/assets/css/main.css" as="style">

            <!-- Google Analytics 4 - FriendsPartyServer Paraguay -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-L6K2C49RW0"></script>
            <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-L6K2C49RW0', {
                    // Configuración específica para Paraguay/Latinoamérica
                    country: 'PY',
                    custom_map: {
                        'custom_parameter_country': 'Paraguay',
                        'custom_parameter_region': 'Latin America'
                    }
                });
            </script>
        `;
    },

    // Función mejorada para SEO - Carga inmediata sin esperar DOM
    initImmediate: function() {
        const currentPath = window.location.pathname;
        const headContent = this.generateHead(currentPath);
        
        // Insertar inmediatamente sin esperar DOM
        document.head.insertAdjacentHTML('beforeend', headContent);
    },

    // Función original mantenida para compatibilidad
    init: function() {
        const currentPath = window.location.pathname;
        const headContent = this.generateHead(currentPath);
        
        // Insertar el contenido después del elemento actual del head
        document.head.insertAdjacentHTML('beforeend', headContent);
    }
};
